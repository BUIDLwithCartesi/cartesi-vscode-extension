{
"scopeName":"source.js",
"patterns" : [
    { "include": "#main" },
    {
      "include": "#class-name"
    },
    {
      "include": "#template-string"
    },    
    { "include": "#embedded-template-string" },
    {
      "include": "#keyword"
    },
    {
      "include": "#function-name"
    },
    {
      "include": "#number" 
    },
    {
      "include": "#operator"
    },
    {
      "include": "#regex"
    },
    {
      "include": "#function-variable"
    },  
    {
      "include": "#parameter"
    },
    {
      "include": "#constant"
    },
    {
      "include": "#hashbang"
    }, 
    {
      "include": "#literal-property"
    }, 
    {
      "include": "#cc"
    },     
    {
        "name": "variable.other.method.js",
        "match": "(\\.\\s*)([_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)",
        "captures": {
          "1": {
            "name": "punctuation.accessor.js"
          },
          "2": {
            "name": "variable.other.method.js"
          }
        }
      },
      {
        "name": "variable.other.function.js",
        "match": "(\\.\\s*)([_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)",
        "captures": {
          "1": {
            "name": "punctuation.accessor.js"
          },
          "2": {
            "name": "variable.other.function.js"
          }
        }
      },
      {
        "name": "support.class.js",
        "match": "\\b(?:(?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)?Array|ArrayBuffer|BigInt|Boolean|DataView|Date|Error|Function|Intl|JSON|(?:Weak)?(?:Map|Set)|Math|Number|Object|Promise|Proxy|Reflect|RegExp|String|Symbol|WebAssembly)\\b"
      },
      {
        "name": "support.class.error.js",
        "match": "\\b(?:[A-Z]\\w*)Error\\b"
      },
      {
        "name": "keyword.control.module.js",
        "match": "\\b(?:as|default|export|from|import)\\b"
      },
      {
        "name": "keyword.control.flow.js",
        "match": "\\b(?:await|break|catch|continue|do|else|finally|for|if|return|switch|throw|try|while|yield)\\b"
      },
      {
        "name": "constant.language.null.js",
        "match": "\\bnull\\b"
      },
      {
        "name": "constant.language.undefined.js",
        "match": "\\bundefined\\b"
      },
      {
        "name": "keyword.operator.spread.js",
        "match": "\\.{3}"
      },
      {
        "name": "keyword.operator.arrow.js",
        "match": "=>"
      },
      {
        "name": "variable.other.readwrite.js",
        "match": "\\b(?:document|(?:local|session)Storage|location|navigator|performance|window)\\b"
      },  
      {
        "name": "support.class.console.js",
        "match": "\\bconsole(?=\\s*\\.)"
      },
      {
        "name": "variable.other.class.js",
        "match": "(^|[^$\\w\\xA0-\\uFFFF])[A-Z][$\\w\\xA0-\\uFFFF]+",
        "captures": {
          "1": {
            "name": "punctuation.accessor.js"
          },
          "2": {
            "name": "variable.other.class.js"
          }
        }
      },
    {
        "name" : "variable.other.method-variable.js",
        "match" : "(\\.\\s*)(?=\\bfunction-variable\\b)",
        "captures": {
            "1": {
                "name": "punctuation.accessor.js"
            }
        }
    },
    {
        "name" : "entity.name.function.method.js",
        "match": "(\\.\\s*)(?=\\bfunction-variable\\b)",
        "captures":{
            "1": {
                "name": "punctuation.accessor.js"
            }
        }
    },
    {
        "name" : "support.class.builtin.js",
        "match" : "\\b(?:(?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32|64)|Uint8Clamped)?Array|ArrayBuffer|BigInt|Boolean|DataView|Data|Error|Function|Int1|JSON|(?:weak)?(?:Map|Set)|Math|Number|Object|Promise|Proxy|Reflect|RegExp|String|Symbol|webAssembly)\\b"
    },
    {
        "name" : "support.class.error.js",
        "match" : "\\b(?:[A-Z]\\w*)Error\\b"
    },
    {
        "name" : "keyword.control.import.js",
        "match" : "(\\bimport\\b\\s*)(?:<ID>(?:\\s*,\\s*(?:\\*\\s*as\\s+<ID>|\\{[^{}]*\\}))?|\\*\\s*as\\s+<ID>|\\{[^{}]*\\})(?=\\s*\\bfrom\\b)",
        "captures": {
            "1": {
                "name": "keyword.control.import.js"
            }
        }
    },
    {
        "name" : "keyword.control.export.js",
        "match" : "(\\bexport\\b\\s*)(?:\\*(?:\\s*as\\s+<ID>)?(?=\\s*\\bfrom\\b)|\\{[^{}]*\\})",
        "captures": {
            "1": {
                "name": "keyword.control.export.js"
            }
        }
    },
    {
        "name" : "keyword.module.js",
        "match" : "\\b(?:as|default|export|from|import)\\b"
    },
    {
        "name" : "keyword.control.flow.js",
        "match" : "\\b(?:await|break|catch|continue|do|else|finally|for|if|return|switch|throw|try|while|yield)\\b"
    },
    {
        "name" : "constant.language.null.js",
        "match" : "\\bnull\\b"
    },
    {
        "name" : "constant.language.undefined.js",
        "match" : "\\bundefined\\b"
    },
    {
        "name" : "Keyword.operator.spread.js",
        "match" : "\\.{3}"
    },
    {
        "name": "keyword.operator.arrow.js",
        "match": "=>"
    },
    {
        "name": "variable.other.property-access.js",
        "match": "(\\.\\s*)#?<ID>",
        "captures": {
            "1":{
                "name": "punctuation.accessor.js"
            }
        }
    },
    {
        "name": "support.class.maybe-class-name.js",
        "match": "(^|[^$\\w\\xA0-\\uFFFF])[A-Z][$\\w\\xA0-\\uFFFF]+",
        "captures": {
            "1": {
                "name": "punctuation.accessor.js"
            }
        }
    },
    {
        "name": "variable.other.dom.js",
        "match": "\\b(?:document|(?:local|session)Storage|location|navigator|performance|window)\\b"
    },
    {
        "name": "support.class.console.js",
        "match": "\\bconsole(?=\\s*\\.)"
    }
],

"repository" : {
    "main": [
        {
            "match": "\\b(function|return|if|else|for|while|var|let|const)\\b",
            "name": "keyword.control.js"
        },
        {
            "match": "\\b(true|false|null|undefined)\\b",
            "name": "constant.language.js"
        },
        {
            "match": "/\\*[^*]*\\*+(?:[^/*][^*]*\\*+)*/",
            "name": "comment.block.js"
        },
        {
            "match": "'(?:\\\\.|[^\\\\'])*'|\"(?:\\\\.|[^\\\\\"])*\"",
            "name": "string.quoted.js"
        },
        {
            "match": "\\b[0-9]+(\\.[0-9]+)?\\b",
            "name": "constant.numeric.js"
        }
    ],
    "class-name": {
      "patterns": [
        {
          "name": "entity.name.type.class.js",
          "match": "(\\b(?:class|extends|implements|instanceof|interface|new)\\s+)[\\w.\\\\]+"
        },
        {
          "name": "entity.name.type.class.js",
          "match": "(^|[^$\\w\\xA0-\\uFFFF])(?!\\s)[_$A-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\.(?:constructor|prototype))"
        }
      ]
    },
    "keyword": {
      "patterns": [
        {
          "name": "keyword.control.js",
          "match": "((?:^|\\})\\s*)catch\\b"
        },
        {
          "name": "keyword.control.js",
          "match": "(^|[^.]|\\.\\.\\.\\s*)\\b(?:as|assert(?=\\s*\\{)|async(?=\\s*(?:function\\b|\\(|[$\\w\\xA0-\\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\\s*(?:\\{|$))|for|from(?=\\s*(?:['\"]|$))|function|(?:get|set)(?=\\s*(?:[#\\[$\\w\\xA0-\\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\\b"
        }
      ]
    },
    "operator": {
      "name": "keyword.operator.js",
      "match": "--|\\+\\+|\\*\\*=?|=>|&&=?|\\|\\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\\.{3}|\\?\\?=?|\\?\\.?|[~:]"
    },
    "regex": {
      "name": "string.regexp.js",
      "match": "((?:^|[^$\\w\\xA0-\\uFFFF.\"'\\])\\s]|\\b(?:return|yield))\\s*/(?:\\[(?:[^\\\\\\]\\r\\n]|\\\\.)*\\]|\\\\.|[^/\\\\\\[\\r\\n])+/[dgimyus]{0,7}(?=(?:\\s|/\\*(?:[^*]|\\*(?!/))*\\*/)*(?:$|[\\r\\n,.;:})\\]]|//))"
    },
    "function":{
        "patterns":[
            {
                "include": "#maybe-class-name"
            }
        ]
    },
    "function-name": {
      "name": "entity.name.function.js",
      "match": "#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*(?:\\.\\s*(?:apply|bind|call)\\s*)?\\()"
    },
    "number": {
      "name": "constant.numeric.js",
      "match": "(^|[^\\w$])(?:NaN|Infinity|0[bB][01]+(?:_[01]+)*n?|0[oO][0-7]+(?:_[0-7]+)*n?|0[xX][\\dA-Fa-f]+(?:_[\\dA-Fa-f]+)*n?|\\d+(?:_\\d+)*n|(?:\\d+(?:_\\d+)*(?:\\.(?:\\d+(?:_\\d+)*)?)?|\\.\\d+(?:_\\d+)*)(?:[Ee][+-]?\\d+(?:_\\d+)*)?)(?![\\w$])"
    },
    "function-variable": {
      "name": "entity.name.function.js",
      "match": "#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*[=:]\\s*(?:async\\s*)?(?:\\bfunction\\b|(?:\\((?:[^()]|\\([^()]*\\))*\\)|(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)\\s*=>))",
        "patterns":[
            {
                "include": "#maybe-class-name"
            }
        ]
    },
    "parameter": {
      "patterns": [
        {
          "name": "variable.parameter.js",
          "match": "(function(?:\\s+(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)?\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\))"
        },
        {
          "name": "variable.parameter.js",
          "match": "(^|[^$\\w\\xA0-\\uFFFF])(?!\\s)[_$a-z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*=>)"
        },
        {
          "name": "variable.parameter.js",
          "match": "(\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*=>)"
        },
        {
          "name": "variable.parameter.js",
          "match": "((?:\\b|\\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\\w\\xA0-\\uFFFF]))(?:(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*\\s*)\\(\\s*|\\]\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*\\{)"
        }
      ]
    },
    "constant": {
      "name": "constant.language.js",
      "match": "\\b[A-Z](?:[A-Z_]|\\dx?)*\\b"
    },
    "hashbang": {
      "name": "comment.line.hashbang.js",
      "match": "^#!.*"
    },    
    "method": {
        "patterns":[
            {
                "include": "#maybe-class-name"
            }
        ]
    }, 
    "method-variable": {
        "patterns":[
            {
                "include": "#maybe-class-name"
            }
        ]
    },
    "property-access":{
        "patterns":[
            {
                "include": "#maybe-class-name"
            }
        ]
    },
    "maybe-class-name": {
        "patterns": [
          {
            "name": "support.class.maybe-class-name.js",
            "match": "^[A-Z][\\s\\S]*"
          }
        ]
      },
      "template-string": {
        "name": "string.template.js",
        "begin": "`",
        "end": "`",
        "patterns": [
          {
            "name": "punctuation.definition.string.begin.js",
            "match": "^`"
          },
          {
            "name": "punctuation.definition.string.end.js",
            "match": "`$"
          },
          {
            "name": "interpolation.js",
            "begin": "\\$\\{",
            "end": "\\}",
            "patterns": [
              {
                "name": "punctuation.section.embedded.begin.js",
                "match": "^\\$\\{"
              },
              {
                "name": "punctuation.section.embedded.end.js",
                "match": "\\}$"
              },
              {
                "include": "source.js"
              }
            ]
          },
          {
            "name": "string.quoted.template.js",
            "match": "[^`]+"
          }
        ]
      },

    "embedded-template-string": {
        "patterns" : [
            {
                "name": "string.template.embedded.graphql",
                "begin": "(`)",
                "beginCaptures": {
                    "1":{
                        "name": "punctuation.definition.string.template.begin.js"
                    }
                },
                "end": "(`)",
                "endCaptures": {
                    "1":{
                        "name": "punctuation.definition.string.template.end.js"
                    }
                },
                "patterns": [
                    {
                        "include": "#interpolation"
                    },
                    {
                        "name": "string.template.js",
                        "match": "[^`$]+"
                    }
                ]
            }
        ]
    },
    "interpolation": {
        "patterns": [
            {
                "name": "meta.embedded.line.js",
                "begin": "(\\$\\{)",
                "beginCaptures": {
                    "1": {
                        "name": "punctuation.section.embedded.begin.js"
                    }
                },
                "end": "(\\})",
                "endCaptures": {
                    "1": {
                        "name": "punctuation.section.embedded.end.js"
                    }
                },
                "patterns": [
                    {
                        "include": "source.js"
                    }
                ]
            }
        ]
    },
    "embedded-language": {
        "patterns": [
            {
                "name": "srting.template.embedded.css",
                "begin": "(\\b(?:styled(?:\\([^)]*\\))?(?:\\s*\\.\\s*\\w+(?:\\([^)]*\\))*)*|css(?:\\s*\\.\\s*(?:global|resolve))?|createGlobalStyle|keyframes)\\s*`)",
                "beginCaptures": {
                    "1": {
                        "name": "punctuation.definition.string.template.begin.js"
                    }
                },
                "patterns": [
                    {
                        "include": "source.css"
                    }
                ]
            },
            {
                "name": "string.template.embedded.html",
                "begin": "(\\bhtml|\\.\\s*(?:inner|outer)HTML\\s*\\+?=\\s*`)",
                "beginCaptures": {
                  "1": {
                    "name": "punctuation.definition.string.template.begin.js"
                  }
                },
                "end": "(`)",
                "endCaptures": {
                    "1": {
                      "name": "punctuation.definition.string.template.end.js"
                    }
                },
                "patterns": [
                    {
                      "include": "text.html.basic"
                    }
                  ]                                   
            },
            {
               "name": "string.template.embedded.svg",
            "begin": "(\\bsvg\\s*`)",
            "beginCaptures": {
              "1": {
                "name": "punctuation.definition.string.template.begin.js"
              }
            },
            "end": "(`)",
            "endCaptures": {
              "1": {
                "name": "punctuation.definition.string.template.end.js"
              }
            },
            "patterns": [
              {
                "include": "text.xml.svg"
              }
            ] 
            },
            {
              "name": "string.template.embedded.markdown",
              "begin": "(\\b(?:markdown|md)\\s*`)",
              "beginCaptures": {
                "1": {
                  "name": "punctuation.definition.string.template.begin.js"
                }
            },
            "end": "(`)",
            "endCaptures": {
              "1": {
                "name": "punctuation.definition.string.template.end.js"
              }
            },
            "patterns": [
              {
                "include": "text.html.markdown"
              }
            ]
            },
            {
              "name": "string.template.embedded.graphql",
              "begin": "(\\b(?:gql|graphql(?:\\s*\\.\\s*experimental)?)\\s*`)",
              "beginCaptures": {
                "1": {
                  "name": "punctuation.definition.string.template.begin.js"
                }
            },
            "end": "(`)",
            "endCaptures": {
              "1": {
                "name": "punctuation.definition.string.template.end.js"
              }
            },
            "patterns": [
              {
                "include": "source.graphql"
              }
            ]
            },
            {
                "name": "string.template.embedded.sql",
                "begin": "(\\bsql\\s*`)",
                "beginCaptures": {
                  "1": {
                    "name": "punctuation.definition.string.template.begin.js"
                  }
                },
                "end": "(`)",
                "endCaptures": {
                  "1": {
                    "name": "punctuation.definition.string.template.end.js"
                  }
                },
                "patterns": [
                  {
                    "include": "source.sql"
                  }
                ]
            }
        ]
    },
    "string-property": {
      "name": "string.quoted.double.js",
      "match": "((?:^|[,{])[ \\t]*)([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\2)[^\\\\\\r\\n])*\\2(?=\\s*:)"
    },
    "literal-property": {
      "name": "variable.other.property.js",
      "match": "((?:^|[,{])[ \\t]*)(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*:)"
    }  
}
}
